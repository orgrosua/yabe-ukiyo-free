import{g as n,s as _}from"./get-D6nU50df.js";import{u as k}from"./setting-DS-UoNC_.js";import{M as v,r as S,o as V,c as T,b as e,t as a,u as t,a as h}from"./app-CMZRKKOv.js";import{a as D,b as B,u as E}from"./notifier-gadloFR7.js";import"./cloneDeep-Dnkf_cep.js";import"./isObjectLike-mqpIr8Ea.js";import"./isSymbol-BpHlYMiq.js";const L={class:"form-table",role:"presentation"},P={scope:"row"},C={for:"enable_integration"},I={class:""},M=["checked","value"],G={for:"enable_integration"},N={class:"description"},R={scope:"row"},$={for:"print_purchase_page"},A={class:""},K=["checked","value"],U={for:"print_purchase_page"},q={class:"description"},O={scope:"row"},j={for:"print_receipt_email"},z={class:""},F=["checked","value"],H={for:"print_receipt_email"},J={class:"description"},Q={scope:"row"},W={for:"payment_status_deactivate"},X={class:"description"},Y={scope:"row"},Z={for:"payment_status_activate"},x={class:"description"},ee={scope:"row"},te={for:"generate_missing_license_keys"},se={class:""},oe=["disabled"],ae={class:"description"},ue={__name:"EasyDigitalDownloads",setup(ie){const g=k(),{setting:o}=v(g),b=D(),w=B(),p=E(),u=["abandoned","refunded","failed","pending","preapproved","processing","revoked","payment_deleted","item_removed"],m=s=>!n(o.value,"ecommerce.easydigitaldownloads.deactivate_when_payment_status",[]).includes(s)&&!n(o.value,"ecommerce.easydigitaldownloads.revoke_when_payment_status",[]).includes(s);function f(){if(!confirm("Are you sure you want to generate the missing license keys?"))return;p.add("settings.ecommerce.easy-digital-downloads:generate-missing-license");let s=w.request({method:"POST",url:"/ecommerce/easydigitaldownloads/generate-missing-license"}).then(i=>{}).finally(()=>{p.remove("settings.ecommerce.easy-digital-downloads:generate-missing-license")});b.async(s,"License keys generated successfully.",void 0,"Generating the missing license keys...")}return(s,i)=>{const y=S("VueSelect");return V(),T("table",L,[e("tbody",null,[e("tr",null,[e("th",P,[e("label",C,a(s.__("Enable Integration","yabe-ukiyo")),1)]),e("td",null,[e("div",I,[e("input",{type:"checkbox",name:"enable_integration",id:"enable_integration",checked:t(n)(t(o),"ecommerce.easydigitaldownloads.enable_integration",!1),value:t(n)(t(o),"ecommerce.easydigitaldownloads.enable_integration",!1),onInput:i[0]||(i[0]=c=>{var l,d,r;return t(_)(t(o),"ecommerce.easydigitaldownloads.enable_integration",!((r=(d=(l=t(o))==null?void 0:l.ecommerce)==null?void 0:d.easydigitaldownloads)!=null&&r.enable_integration))}),class:"mr:8"},null,40,M),e("label",G,a(s.__("To enable integration, please tick this box.","yabe-ukiyo")),1)]),e("p",N,a(s.__("The Easy Digital Downloads integration module will be loaded.","yabe-ukiyo")),1)])]),e("tr",null,[e("th",R,[e("label",$,a(s.__("Purchase Page","yabe-ukiyo")),1)]),e("td",null,[e("div",A,[e("input",{type:"checkbox",name:"print_purchase_page",id:"print_purchase_page",checked:t(n)(t(o),"ecommerce.easydigitaldownloads.print_purchase_page",!1),value:t(n)(t(o),"ecommerce.easydigitaldownloads.print_purchase_page",!1),onInput:i[1]||(i[1]=c=>{var l,d,r;return t(_)(t(o),"ecommerce.easydigitaldownloads.print_purchase_page",!((r=(d=(l=t(o))==null?void 0:l.ecommerce)==null?void 0:d.easydigitaldownloads)!=null&&r.print_purchase_page))}),class:"mr:8"},null,40,K),e("label",U,a(s.__("License detail on the purchase page.","yabe-ukiyo")),1)]),e("p",q,a(s.__("The license will be shown on the user's purchase history page.")),1)])]),e("tr",null,[e("th",O,[e("label",j,a(s.__("Receipt Email","yabe-ukiyo")),1)]),e("td",null,[e("div",z,[e("input",{type:"checkbox",name:"print_receipt_email",id:"print_receipt_email",checked:t(n)(t(o),"ecommerce.easydigitaldownloads.print_receipt_email",!1),value:t(n)(t(o),"ecommerce.easydigitaldownloads.print_receipt_email",!1),onInput:i[2]||(i[2]=c=>{var l,d,r;return t(_)(t(o),"ecommerce.easydigitaldownloads.print_receipt_email",!((r=(d=(l=t(o))==null?void 0:l.ecommerce)==null?void 0:d.easydigitaldownloads)!=null&&r.print_receipt_email))}),class:"mr:8"},null,40,F),e("label",H,a(s.__("License detail on the receipt email.","yabe-ukiyo")),1)]),e("p",J,a(s.__("The license will be included in the receipt email for each successful purchase.")),1)])]),e("tr",null,[e("th",Q,[e("label",W,a(s.__("Deactivate when Payment Status :","yabe-ukiyo")),1)]),e("td",null,[h(y,{multiple:"",options:u,selectable:m,modelValue:t(n)(t(o),"ecommerce.easydigitaldownloads.deactivate_when_payment_status",[]),"onUpdate:modelValue":i[3]||(i[3]=c=>t(_)(t(o),"ecommerce.easydigitaldownloads.deactivate_when_payment_status",c)),class:"w:25em"},null,8,["modelValue"]),e("p",X,a(s.__('The license will be deactivated when the payment status changes from "Completed" to the following status.',"yabe-ukiyo")),1)])]),e("tr",null,[e("th",Y,[e("label",Z,a(s.__("Revoke when Payment Status :","yabe-ukiyo")),1)]),e("td",null,[h(y,{multiple:"",options:u,selectable:m,modelValue:t(n)(t(o),"ecommerce.easydigitaldownloads.revoke_when_payment_status",[]),"onUpdate:modelValue":i[4]||(i[4]=c=>t(_)(t(o),"ecommerce.easydigitaldownloads.revoke_when_payment_status",c)),class:"w:25em"},null,8,["modelValue"]),e("p",x,a(s.__('The license will be revoked or deleted when the payment status changes from "Completed" to the following status.',"yabe-ukiyo")),1)])]),e("tr",null,[e("th",ee,[e("label",te,a(s.__("Missing license","yabe-ukiyo")),1)]),e("td",null,[e("div",se,[e("button",{type:"button",onClick:f,disabled:t(p).isBusy,class:"button button-secondary"},a(s.__("Generate Missing License Keys","yabe-ukiyo")),9,oe)]),e("p",ae,a(s.__("Generate the missing license keys for each purchase that was made before the integration was enabled.","yabe-ukiyo")),1)])])])])}}};export{ue as default};
